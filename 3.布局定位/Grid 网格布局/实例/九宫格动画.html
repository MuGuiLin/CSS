<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>九宫格动画</title>
    <style>
        h1 {
            text-align: center;
        }

        .box {
            width: 500px;
            height: 500px;
            margin: auto;
            transition: 0.5s;
            display: grid;
            gap: 10px;
            /* 行数 */
            grid-template-rows: 1fr 1fr 1fr;

            /* 列数 */
            grid-template-columns: 1fr 1fr 1fr;

            .item {
                display: flex;
                justify-content: center;
                align-items: center;
                border: 1px solid gray;

                &:hover {
                    font-size: 52px;
                }
            }
        }

        .item:nth-child(1) {
            background: red;
        }

        .item:nth-child(2) {
            background: orange;
        }

        .item:nth-child(3) {
            background: yellow;
        }

        .item:nth-child(4) {
            background: green;
        }

        .item:nth-child(5) {
            background: #fff;
        }

        .item:nth-child(6) {
            background: blue;
        }

        .item:nth-child(7) {
            background: purple;
        }

        .item:nth-child(8) {
            background: gray;
        }

        .item:nth-child(9) {
            background: cyan;
        }

        /* has() 是一个伪类选择器，当鼠标移入第一个元素时，改变父级.box的grid行列大小样式*/
        .box:has(.item:nth-child(1):hover) {
            grid-template-rows: 2fr 1fr 1fr;
            grid-template-columns: 2fr 1fr 1fr;
        }

        .box:has(.item:nth-child(2):hover) {
            grid-template-rows: 2fr 1fr 1fr;
            grid-template-columns: 1fr 2fr 1fr;
        }

        .box:has(.item:nth-child(3):hover) {
            grid-template-rows: 2fr 1fr 1fr;
            grid-template-columns: 1fr 1fr 2fr;
        }

        .box:has(.item:nth-child(4):hover) {
            grid-template-rows: 1fr 2fr 1fr;
            grid-template-columns: 2fr 1fr 1fr;
        }

        .box:has(.item:nth-child(5):hover) {
            grid-template-rows: 1fr 2fr 1fr;
            grid-template-columns: 1fr 2fr 1fr;
        }

        .box:has(.item:nth-child(6):hover) {
            grid-template-rows: 1fr 2fr 1fr;
            grid-template-columns: 1fr 1fr 2fr;
        }

        .box:has(.item:nth-child(7):hover) {
            grid-template-rows: 1fr 1fr 2fr;
            grid-template-columns: 2fr 1fr 1fr;
        }

        .box:has(.item:nth-child(8):hover) {
            grid-template-rows: 1fr 1fr 2fr;
            grid-template-columns: 1fr 2fr 1fr;
        }

        .box:has(.item:nth-child(9):hover) {
            grid-template-rows: 1fr 1fr 2fr;
            grid-template-columns: 1fr 1fr 2fr;
        }

        /* SASS语法 */
        @for $i from 1 through 9 {
            .item:nth-child(#{$i}) {
                /*  颜色， 饱和度, 亮度 */
                background: hsl($i * 40%, 100% 80%);
            }

            .box:has(.item:nth-child(#{$i}):hover) {
                /* 将计算的结果赋给变量$r */
                $r: floor($i - 1) / 3 + 1;
                /* 将计算的结果赋给变量$c */
                $c: $i - 1 % 3 + 1;

                /* 创建一个数组 */
                $arr: 1fr 1fr 2fr;

                /* 将数组的第$r个元素替换为2fr */
                $rows: set-nth($arr, $r, 2fr);

                /* 将数组的第$c个元素替换为2fr */
                $cols: set-nth($arr, $c, 2fr);

                /* 最后将 计算后的结果设置给行和列 */
                grid-template-rows: $rows;
                grid-template-columns: $cols;
            }
        }
    </style>
</head>

<body>
    <h1>九宫格动画</h1>
    <hr>
    <div class="box">
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
        <div class="item">4</div>
        <div class="item">5</div>
        <div class="item">6</div>
        <div class="item">7</div>
        <div class="item">8</div>
        <div class="item">9</div>
    </div>
</body>

</html>